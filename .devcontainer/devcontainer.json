{
  "customizations": {
    "codespaces": {
      "extensions": [
        "github.vscode-codeql"
      ],
      "settings": {
        "codeQL.cli.executablePath": "/workspaces/codeql/codeql",
        "codeQL.githubDatabase.download": "never",
        "codeQL.runningQueries.memory": 4096,
        "codeQL.runningQueries.autoSave": true,
        // Reduce startup work by disabling extension auto-updates and telemetry checks
        "extensions.autoUpdate": false,
        "extensions.autoCheckUpdates": false,
        "telemetry.telemetryLevel": "off",
        "telemetry.enableTelemetry": false
      },
      "openFiles": [
        "vscode-codeql-starter.code-workspace",
        "README.md"
      ]
    },
    "vscode": {
      "extensions": [
        "github.vscode-codeql"
      ],
      "settings": {
        "codeQL.cli.executablePath": "/workspaces/codeql/codeql",
        "codeQL.githubDatabase.download": "never",
        "codeQL.runningQueries.memory": 4096,
        "extensions.autoUpdate": false,
        "extensions.autoCheckUpdates": false,
        "telemetry.telemetryLevel": "off",
        "telemetry.enableTelemetry": false
      },
      "openFiles": [
        "vscode-codeql-starter.code-workspace",
        "README.md"
      ]
    }
  },
  // Run submodule initialization only once during container creation; use shallow fetch to speed up
  "onCreateCommand": "bash .devcontainer/startup.sh",
  // During workspace updates in a prebuild, this command runs to ensure submodules are in sync without heavy work
  "updateContentCommand": "git submodule update --recursive --depth 1",
  // Keep post-start tasks minimal so each new Codespace starts fast
  "postCreateCommand": "echo 'export PATH=\"$PATH:/workspaces/codeql\"' >> ~/.bashrc"
 }
